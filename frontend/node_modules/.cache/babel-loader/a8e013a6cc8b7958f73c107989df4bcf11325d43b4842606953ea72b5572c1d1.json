{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simon\\\\Desktop\\\\twitter-clone\\\\twitter-clone-frontend\\\\src\\\\sites\\\\Signup.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { gql, useMutation } from '@apollo/client';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport * as yup from 'yup';\nimport { Link, useNavigate } from 'react-router-dom';\nimport TwitterLogo from '../styles/assets/TwitterLogo.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIGNUP_MUTATION = gql`\nmutation signup($name: String, $email: String!, $password: String!){\n    signup(name: $name, email: $email, password: $password){\n        token\n    }\n}\n`;\nfunction Signup() {\n  _s();\n  const navigate = useNavigate();\n  const [mutateSignup] = useMutation(SIGNUP_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\n  const initialValues = {\n    email: '',\n    password: '',\n    confirmPassword: '',\n    name: ''\n  };\n  const validationSchema = yup.object({\n    email: yup.string().email(\"Invalid email address\").required(\"Email required\"),\n    // defines a string schema\n    password: yup.string().max(20, '20 characters or less').required(\"Password required\"),\n    confirmPassword: yup.string().oneOf([yup.ref(\"password\")], \"Passwords must match\"),\n    // if password field has null value\n    name: yup.string().max(15, \"15 characters or less\").required(\"Name required.\")\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: TwitterLogo,\n      alt: \"Twitter logo\",\n      style: {\n        width: \"50px\"\n      },\n      className: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: async (values, {\n        setSubmitting\n      }) => {\n        setSubmitting(true);\n        const response = await mutateSignup({\n          variables: values\n        });\n        localStorage.setItem(\"token\", response.data.signup.token);\n        setSubmitting(false);\n        navigate('/users');\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          component: 'div'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"name\",\n          component: 'div'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          component: 'div'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Field, {\n          name: \"confirmPassword\",\n          type: \"password\",\n          placeholder: \"confirmPassword\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"confirmPassword\",\n          component: 'div'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Already have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(Signup, \"EdGU9XXvVjGTjl0eFbq4JGg6YDM=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","gql","useMutation","ErrorMessage","Field","Form","Formik","yup","Link","useNavigate","TwitterLogo","jsxDEV","_jsxDEV","SIGNUP_MUTATION","Signup","_s","navigate","mutateSignup","initialValues","email","password","confirmPassword","name","validationSchema","object","string","required","max","oneOf","ref","children","src","alt","style","width","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","values","setSubmitting","response","variables","localStorage","setItem","data","signup","token","type","placeholder","component","to","_c","$RefreshReg$"],"sources":["C:/Users/Simon/Desktop/twitter-clone/twitter-clone-frontend/src/sites/Signup.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { gql, useMutation } from '@apollo/client';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik'; \r\nimport * as yup from 'yup';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Sign } from \"crypto\";\r\nimport TwitterLogo from '../styles/assets/TwitterLogo.png';\r\n\r\nconst SIGNUP_MUTATION = gql`\r\nmutation signup($name: String, $email: String!, $password: String!){\r\n    signup(name: $name, email: $email, password: $password){\r\n        token\r\n    }\r\n}\r\n`;\r\n\r\ninterface SignupValues{\r\n    email: string,\r\n    password: string,\r\n    confirmPassword: string,\r\n    name: string\r\n}\r\n\r\nfunction Signup(){\r\n    const navigate = useNavigate();\r\n    const [mutateSignup] = useMutation(SIGNUP_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\r\n    const initialValues: SignupValues = {\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        name: ''\r\n    }\r\n    const validationSchema = yup.object({\r\n        email: yup.string().email(\"Invalid email address\").required(\"Email required\"), // defines a string schema\r\n        password: yup.string().max(20, '20 characters or less').required(\"Password required\"),\r\n        confirmPassword: yup.string().oneOf([yup.ref(\"password\")],\"Passwords must match\"), // if password field has null value\r\n        name: yup.string().max(15,\"15 characters or less\").required(\"Name required.\")\r\n    })\r\n    return(\r\n        <div>\r\n            <img src={TwitterLogo} alt='Twitter logo' style={{width: \"50px\"}} className=\"logo\"></img>\r\n            <h3>Sign up</h3>\r\n            <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={async (values,{setSubmitting}) => {\r\n                    setSubmitting(true);\r\n                    const response = await mutateSignup({ variables: values});\r\n                    localStorage.setItem(\"token\", response.data.signup.token);\r\n                    setSubmitting(false);\r\n                    navigate('/users');\r\n                }}>\r\n                    <Form>\r\n                        <Field name=\"email\" type=\"text\" placeholder=\"email\" />\r\n                        <ErrorMessage name=\"email\" component={'div'} />\r\n                        <Field name=\"name\" type=\"text\" placeholder=\"name\" />\r\n                        <ErrorMessage name=\"name\" component={'div'} />\r\n                        <Field name=\"password\" type=\"password\" placeholder=\"password\" />\r\n                        <ErrorMessage name=\"password\" component={'div'} /> {/* component for rendering a message */}\r\n                        <Field name=\"confirmPassword\" type=\"password\" placeholder=\"confirmPassword\" />\r\n                        <ErrorMessage name=\"confirmPassword\" component={'div'} />\r\n                        <button type=\"submit\">Sign Up</button>\r\n                    </Form>\r\n            </Formik>\r\n            <div className=\"register\">\r\n                <h4>Already have an account?</h4>\r\n                <Link to=\"/login\">Log in</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}