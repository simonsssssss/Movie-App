{"ast":null,"code":"import has from \"lodash-es/has\";\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludes) {\n  if (excludes === void 0) {\n    excludes = [];\n  }\n  var edges = [];\n  var nodes = [];\n  function addNode(depPath, key) {\n    var node = split(depPath)[0];\n    if (!~nodes.indexOf(node)) nodes.push(node);\n    if (!~excludes.indexOf(key + \"-\" + node)) edges.push([key, node]);\n  }\n  var _loop = function _loop(key) {\n    if (has(fields, key)) {\n      var value = fields[key];\n      if (!~nodes.indexOf(key)) nodes.push(key);\n      if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && value._deps) value._deps.forEach(function (path) {\n        return addNode(path, key);\n      });\n    }\n  };\n  for (var key in fields) {\n    _loop(key);\n  }\n  return toposort.array(nodes, edges).reverse();\n}","map":{"version":3,"names":["has","toposort","split","Ref","isSchema","sortFields","fields","excludes","edges","nodes","addNode","depPath","key","node","indexOf","push","_loop","value","isRef","isSibling","path","_deps","forEach","array","reverse"],"sources":["C:/Users/Simon/Desktop/twitter-clone/frontend/node_modules/yup/es/util/sortFields.js"],"sourcesContent":["import has from \"lodash-es/has\";\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludes) {\n  if (excludes === void 0) {\n    excludes = [];\n  }\n\n  var edges = [];\n  var nodes = [];\n\n  function addNode(depPath, key) {\n    var node = split(depPath)[0];\n    if (!~nodes.indexOf(node)) nodes.push(node);\n    if (!~excludes.indexOf(key + \"-\" + node)) edges.push([key, node]);\n  }\n\n  var _loop = function _loop(key) {\n    if (has(fields, key)) {\n      var value = fields[key];\n      if (!~nodes.indexOf(key)) nodes.push(key);\n      if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && value._deps) value._deps.forEach(function (path) {\n        return addNode(path, key);\n      });\n    }\n  };\n\n  for (var key in fields) {\n    _loop(key);\n  }\n\n  return toposort.array(nodes, edges).reverse();\n}"],"mappings":"AAAA,OAAOA,GAAG,MAAM,eAAe;AAC/B,OAAOC,QAAQ,MAAM,UAAU;AAC/B,SAASC,KAAK,QAAQ,eAAe;AACrC,OAAOC,GAAG,MAAM,cAAc;AAC9B,OAAOC,QAAQ,MAAM,YAAY;AACjC,eAAe,SAASC,UAAUA,CAACC,MAAM,EAAEC,QAAQ,EAAE;EACnD,IAAIA,QAAQ,KAAK,KAAK,CAAC,EAAE;IACvBA,QAAQ,GAAG,EAAE;EACf;EAEA,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIC,KAAK,GAAG,EAAE;EAEd,SAASC,OAAOA,CAACC,OAAO,EAAEC,GAAG,EAAE;IAC7B,IAAIC,IAAI,GAAGX,KAAK,CAACS,OAAO,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,CAAC,CAACF,KAAK,CAACK,OAAO,CAACD,IAAI,CAAC,EAAEJ,KAAK,CAACM,IAAI,CAACF,IAAI,CAAC;IAC3C,IAAI,CAAC,CAACN,QAAQ,CAACO,OAAO,CAACF,GAAG,GAAG,GAAG,GAAGC,IAAI,CAAC,EAAEL,KAAK,CAACO,IAAI,CAAC,CAACH,GAAG,EAAEC,IAAI,CAAC,CAAC;EACnE;EAEA,IAAIG,KAAK,GAAG,SAASA,KAAKA,CAACJ,GAAG,EAAE;IAC9B,IAAIZ,GAAG,CAACM,MAAM,EAAEM,GAAG,CAAC,EAAE;MACpB,IAAIK,KAAK,GAAGX,MAAM,CAACM,GAAG,CAAC;MACvB,IAAI,CAAC,CAACH,KAAK,CAACK,OAAO,CAACF,GAAG,CAAC,EAAEH,KAAK,CAACM,IAAI,CAACH,GAAG,CAAC;MACzC,IAAIT,GAAG,CAACe,KAAK,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACE,SAAS,EAAET,OAAO,CAACO,KAAK,CAACG,IAAI,EAAER,GAAG,CAAC,CAAC,KAAK,IAAIR,QAAQ,CAACa,KAAK,CAAC,IAAIA,KAAK,CAACI,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAACC,OAAO,CAAC,UAAUF,IAAI,EAAE;QAC7I,OAAOV,OAAO,CAACU,IAAI,EAAER,GAAG,CAAC;MAC3B,CAAC,CAAC;IACJ;EACF,CAAC;EAED,KAAK,IAAIA,GAAG,IAAIN,MAAM,EAAE;IACtBU,KAAK,CAACJ,GAAG,CAAC;EACZ;EAEA,OAAOX,QAAQ,CAACsB,KAAK,CAACd,KAAK,EAAED,KAAK,CAAC,CAACgB,OAAO,CAAC,CAAC;AAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}