{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simon\\\\Desktop\\\\twitter-clone\\\\frontend\\\\src\\\\sites\\\\Login.tsx\";\nimport { gql, useMutation } from '@apollo/client';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport * as yup from 'yup';\nimport { Link, useNavigate } from 'react-router-dom';\nimport TwitterLogo from '../assets/TwitterLogo.png';\nimport '../styles/LoginSignup.css';\nconst LOGIN_MUTATION = gql`\nmutation login($email: String!, $password: String!){\n    login(email: $email, password: $password){\n        token\n    }\n}\n`;\nfunction Login() {\n  const navigate = useNavigate();\n  const [mutateLogin] = useMutation(LOGIN_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\n  const initialValues = {\n    email: '',\n    password: ''\n  };\n  const validationSchema = yup.object({\n    email: yup.string().email(\"Invalid email address\").required(\"email required\"),\n    // defines a string schema\n    password: yup.string().max(20, '20 characters or less').required(\"password required\")\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginsignup-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: TwitterLogo,\n    alt: \"Twitter logo\",\n    className: \"loginsignup-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"loginsignup-h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Log in\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    validationSchema: validationSchema,\n    onSubmit: async (values, {\n      setSubmitting\n    }) => {\n      setSubmitting(true);\n      const response = await mutateLogin({\n        variables: values\n      });\n      localStorage.setItem(\"token\", response.data.login.token);\n      setSubmitting(false);\n      navigate('/feed');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"loginsignup-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"email\",\n    type: \"text\",\n    placeholder: \"email\",\n    className: \"loginsignup-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"email\",\n    component: \"div\",\n    className: \"loginsignup-errorMessage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"password\",\n    className: \"loginsignup-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: \"password\",\n    component: \"div\",\n    className: \"loginsignup-errorMessage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"loginsignup-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"loginsignup-span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 78\n    }\n  }, \"Log in\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginsignup-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"loginsignup-question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Don't have an account? \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    className: \"loginsignup-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"Sign Up\")));\n}\nexport default Login;","map":{"version":3,"names":["gql","useMutation","ErrorMessage","Field","Form","Formik","yup","Link","useNavigate","TwitterLogo","LOGIN_MUTATION","Login","navigate","mutateLogin","initialValues","email","password","validationSchema","object","string","required","max","React","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","values","setSubmitting","response","variables","localStorage","setItem","data","login","token","name","type","placeholder","component","to"],"sources":["C:/Users/Simon/Desktop/twitter-clone/frontend/src/sites/Login.tsx"],"sourcesContent":["import { gql, useMutation } from '@apollo/client';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik'; \r\nimport * as yup from 'yup';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport TwitterLogo from '../assets/TwitterLogo.png';\r\nimport '../styles/LoginSignup.css';\r\n\r\nconst LOGIN_MUTATION = gql`\r\nmutation login($email: String!, $password: String!){\r\n    login(email: $email, password: $password){\r\n        token\r\n    }\r\n}\r\n`;\r\n\r\ninterface LoginValues{\r\n    email: string,\r\n    password: string\r\n}\r\n\r\nfunction Login(){\r\n    const navigate = useNavigate();\r\n    const [mutateLogin] = useMutation(LOGIN_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\r\n    const initialValues: LoginValues = {\r\n        email: '',\r\n        password: ''\r\n    }\r\n    const validationSchema = yup.object({\r\n        email: yup.string().email(\"Invalid email address\").required(\"email required\"), // defines a string schema\r\n        password: yup.string().max(20, '20 characters or less').required(\"password required\"),\r\n    })\r\n    return(\r\n        <div className='loginsignup-container'>\r\n            <img src={TwitterLogo} alt='Twitter logo' className=\"loginsignup-logo\"></img>\r\n            <h3 className='loginsignup-h3'>Log in</h3>\r\n            <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={async (values,{setSubmitting}) => {\r\n                    setSubmitting(true);\r\n                    const response = await mutateLogin({ variables: values});\r\n                    localStorage.setItem(\"token\", response.data.login.token);\r\n                    setSubmitting(false);\r\n                    navigate('/feed');\r\n                }}>\r\n                    <Form className='loginsignup-form'>\r\n                        <Field name=\"email\" type=\"text\" placeholder=\"email\" className='loginsignup-field' />\r\n                        <ErrorMessage name=\"email\" component=\"div\" className=\"loginsignup-errorMessage\" />\r\n                        <Field name=\"password\" type=\"password\" placeholder=\"password\" className='loginsignup-field' />\r\n                        <ErrorMessage name=\"password\" component=\"div\" className=\"loginsignup-errorMessage\" />\r\n                        <button type=\"submit\" className=\"loginsignup-button\"><span className='loginsignup-span'>Log in</span></button>\r\n                    </Form>\r\n            </Formik>\r\n            <div className=\"loginsignup-signup\">\r\n                <br />\r\n                <span className=\"loginsignup-question\">Don't have an account? </span>\r\n                <Link to=\"/signup\" className=\"loginsignup-link\">Sign Up</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}