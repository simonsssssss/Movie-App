{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simon\\\\Desktop\\\\twitter-clone\\\\frontend\\\\src\\\\sites\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport { gql, useMutation } from '@apollo/client';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport * as yup from 'yup';\nimport { Link, useNavigate } from 'react-router-dom';\nimport TwitterLogo from '../assets/TwitterLogo.png';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LOGIN_MUTATION = gql`\nmutation login($email: String!, $password: String!){\n    login(email: $email, password: $password){\n        token\n    }\n}\n`;\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [mutateLogin] = useMutation(LOGIN_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\n  const initialValues = {\n    email: '',\n    password: ''\n  };\n  const validationSchema = yup.object({\n    email: yup.string().email(\"Invalid email address\").required(\"email required\"),\n    // defines a string schema\n    password: yup.string().max(20, '20 characters or less').required(\"password required\")\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: TwitterLogo,\n      alt: \"Twitter logo\",\n      className: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Log in to Twitter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: async (values, {\n        setSubmitting\n      }) => {\n        setSubmitting(true);\n        const response = await mutateLogin({\n          variables: values\n        });\n        localStorage.setItem(\"token\", response.data.login.token);\n        setSubmitting(false);\n        navigate('/feed');\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"email\",\n          component: \"div\",\n          className: \"errorMessage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          component: \"div\",\n          className: \"errorMessage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-button\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 72\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"question\",\n        children: \"Don't have an account? \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        className: \"signup-link\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"0mnUPrgJug8dNfIYD5Md3IOXYZI=\", false, function () {\n  return [useNavigate, useMutation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["gql","useMutation","ErrorMessage","Field","Form","Formik","yup","Link","useNavigate","TwitterLogo","jsxDEV","_jsxDEV","LOGIN_MUTATION","Login","_s","navigate","mutateLogin","initialValues","email","password","validationSchema","object","string","required","max","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","values","setSubmitting","response","variables","localStorage","setItem","data","login","token","name","type","placeholder","component","to","_c","$RefreshReg$"],"sources":["C:/Users/Simon/Desktop/twitter-clone/frontend/src/sites/Login.tsx"],"sourcesContent":["import { gql, useMutation } from '@apollo/client';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik'; \r\nimport * as yup from 'yup';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport TwitterLogo from '../assets/TwitterLogo.png';\r\nimport '../App.css';\r\n\r\nconst LOGIN_MUTATION = gql`\r\nmutation login($email: String!, $password: String!){\r\n    login(email: $email, password: $password){\r\n        token\r\n    }\r\n}\r\n`;\r\n\r\ninterface LoginValues{\r\n    email: string,\r\n    password: string\r\n}\r\n\r\nfunction Login(){\r\n    const navigate = useNavigate();\r\n    const [mutateLogin] = useMutation(LOGIN_MUTATION); // returns a tuple consisting of a mutate function that you can call at any time to execute the mutation and an object with fields that represent the current status of the mutation's execution (data, loading, etc.)\r\n    const initialValues: LoginValues = {\r\n        email: '',\r\n        password: ''\r\n    }\r\n    const validationSchema = yup.object({\r\n        email: yup.string().email(\"Invalid email address\").required(\"email required\"), // defines a string schema\r\n        password: yup.string().max(20, '20 characters or less').required(\"password required\"),\r\n    })\r\n    return(\r\n        <div className='container'>\r\n            <img src={TwitterLogo} alt='Twitter logo' className=\"logo\"></img>\r\n            <h3>Log in to Twitter</h3>\r\n            <Formik\r\n                initialValues={initialValues}\r\n                validationSchema={validationSchema}\r\n                onSubmit={async (values,{setSubmitting}) => {\r\n                    setSubmitting(true);\r\n                    const response = await mutateLogin({ variables: values});\r\n                    localStorage.setItem(\"token\", response.data.login.token);\r\n                    setSubmitting(false);\r\n                    navigate('/feed');\r\n                }}>\r\n                    <Form>\r\n                        <Field name=\"email\" type=\"text\" placeholder=\"email\" />\r\n                        <ErrorMessage name=\"email\" component=\"div\" className=\"errorMessage\" />\r\n                        <Field name=\"password\" type=\"password\" placeholder=\"password\" />\r\n                        <ErrorMessage name=\"password\" component=\"div\" className=\"errorMessage\" />\r\n                        <button type=\"submit\" className=\"login-button\"><span>Log in</span></button>\r\n                    </Form>\r\n            </Formik>\r\n            <div className=\"register\">\r\n                <br />\r\n                <span className=\"question\">Don't have an account? </span>\r\n                <Link to=\"/signup\" className=\"signup-link\">Sign Up</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}